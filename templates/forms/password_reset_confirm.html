{% load static %} {% load i18n %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="icon" type="image/x-icon" href="{% static 'home/images/favicon.ico' %}">

    <!-- boostrap should come first, not to affect main css -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="{% static 'forms/css/styles.css' %}" />
    <title>Reset Password</title>
  </head>
  <body>
    <header>
      <h1><img src="{% static 'home/images/favicon.ico' %}" alt="" style="height: 40px; width: 40px;"> Bookmie.com</h1>
    </header>

    <!-- Loader -->
    <div class="load">
      <div class="loader">
        <div class="spinner"></div>
        <p></p>
      </div>
    </div>

    <div class="container">
      {% if validlink %}
      <h2>New Password</h2>
      <form id="reset-password" method="POST">
        {% csrf_token %}
        <input
          class="hidden"
          type="hidden"
          autocomplete="username"
          value="{{ form.user.get_username }}"
        />
        <div>
          <h5 style="color: aliceblue; text-align: left; margin-left: -8px">
            {{ form.new_password1.errors }}
          </h5>
          <div class="input-container">
            <input
              type="password"
              id="password"
              name="new_password1"
              placeholder="New Password"
              required
            />
          </div>
        </div>

        <div>
          <h5 style="color: aliceblue; text-align: left; margin-left: -8px">
            {{ form.new_password2.errors }}
          </h5>
          <div class="input-container">
            <input
              type="password"
              id="confirm-password"
              name="new_password2"
              placeholder="Confirm Password"
              required
            />
          </div>
        </div>
        <div class="bttn">
          <button type="submit">{% translate 'Change My Password' %}</button>
        </div>
        <br />
      </form>
      {% else %}
      <h4 style="color: aliceblue">
        {% translate "The password reset link was invalid, possibly because it
        has already been used. Please request a new password reset." %}
      </h4>
      <div class="btn">
        <a href="{% url 'reset_password' %}">
          <button type="submit">{% translate 'Send email again' %}</button>
        </a>
      </div>
      {% endif %}
    </div>

    <script src="{% static 'forms/js/scripts.js' %}"></script>
    <footer>
      <span>Copyright &copy; Bookmie 2023</span>
    </footer>
  </body>
</html>
