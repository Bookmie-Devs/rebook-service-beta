{% load static %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <meta name="description" content="" />
    <meta name="author" content="" />
    <title>All Rooms | Rebook</title>
    <!-- Favicon-->
    <link
      rel="icon"
      type="image/x-icon"
      href="{% static 'home/assets/favicon.ico' %}"
    />
    <!-- Bootstrap icons-->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css"
      rel="stylesheet"
    />
    <!-- Core theme CSS (includes Bootstrap)-->
    
    <!-- BACKEND CODE FOR STATIC ROUTING -->
    <link href="{% static 'list_staticfiles/css/styles.css' %}" rel="stylesheet" />
  </head>
  </head>
  <body>


      <!-- Loader -->
    <div class="load">
      <div class="loader">
        <div class="spinner"></div>
        <p id="loading-option"></p>
       </div>
    </div>  
  

    <!-- Navigation-->
    <nav class="nav navbar navbar-expand-lg navbar-light ">
      <div class="container px-4 px-lg-5">
        <a class="navbar-brand" href="#!" style="color: orange;">GuudNyt</a>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarSupportedContent"
          aria-controls="navbarSupportedContent"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <ul class="navbar-nav me-auto mb-2 mb-lg-0 ms-lg-4">
            <li class="nav-item">
              <a
                class="nav-link active"
                aria-current="page"
                href="{% url 'core:index' %}"
                >Home</a>
            </li>
            <li class="nav-item"><a class="nav-link" href="{% url 'core:hostels' %}">Hostels</a></li>
            <li class="nav-item"><a class="nav-link" href="{% url 'accounts:booking-and-payments' %}">Booking/Payments</a></li>
             
          </ul>
          <form class="d-flex">
            <button class="drop btn btn-outline-dark" type="submit">
              <i class="bi-cart-fill me-1"></i>
              Booked
            </button>
          </form>
        </div>
      </div>
    </nav>
    <!-- Header-->
    <header class="bg-dark header py-5">
      <div class="custom-shape-divider-bottom-1695574293">
        <svg data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 120" preserveAspectRatio="none">
            <path d="M600,112.77C268.63,112.77,0,65.52,0,7.23V120H1200V7.23C1200,65.52,931.37,112.77,600,112.77Z" class="shape-fill"></path>
        </svg>
    </div>

      <div class="container px-4 px-lg-5 my-5">
        <div class="text-center text-white filter">
          <a class="nav-link active" aria-current="page" href=""><h2 class="display-4 fw-bolder" href="#!"style="color: orange;">Lets Help You Get A Roomüè†</h2></a>
            <hr>
            {% if messages %}

            {% for message in messages %}
              <div class="alert alert-danger" role="alert">
                    {{ message }}
              </div>
            {% endfor %}
      
          {% else %}
          {% endif %}
            <form data-action="Searching..." class="row gx-3 gy-2 align-items-center" action="{% url 'rooms:filter-rooms' %}" method="GET">
              <div class="col-sm-3">
                <label class="visually-hidden" for="specificSizeSelect">Preference</label>
                <select name="room_capacity" class="form-select" id="specificSizeSelect">
                  <option value="">All</option>
                  <option value="1">One in a room</option>
                  <option value="2">Two in a room</option>
                  <option value="3">Three in a room</option>
                  <option selected value="4">Four in a room</option>
                </select>
              </div> 

              <div class="col-sm-3">
                <label class="visually-hidden" for="specificSizeSelect">Preference</label>
                <select name="contains_bathroom" class="form-select" id="specificSizeSelect">
                  <option value="unknown">Any</option>
                  <option selected value="true">Contains bathroom</option>
                  <option value="false">Shared bathroom</option>
                </select>
              </div> 

              <div class="col-sm-3">
                <input class="form-control"
                type="number"
                name="room_price_max"
                placeholder="Highest price">
              </div>

              <div class="col-sm-3">
                <input class="form-control"
                type="number"
                name="room_price_max"
                placeholder="Highest price">
              </div>

              <button type="submit" 
              id="search-button" 
              class="drop btn btn-success">
              <i class="bi-cart-fill me-1"></i>
              Search
            </button>
            </form>

            <!-- for testing -->
            <!-- <form>

              {{ myForm.form }}
              <button type="submit">HUH</button>
            </form> -->

        </div>
      </div>
    </header>
    <!-- Section-->
    <section class="py-5">
      <div class="container px-4 px-lg-5 mt-5">
        <div class="row gx-4 gx-lg-5 row-cols-2 row-cols-md-3 row-cols-xl-4 justify-content-center">
          {% for room in rooms %}
          <a style="text-decoration:none; color:rgb(48, 45, 45);" href="{{ room.get_detail_url }}">
          <div class="col mb-5">
            <div class="card h-100">
              <!-- Product details-->
              <div class="card-body p-4">
                <div class="text-center">
                  <!-- Sale badge-->
                  <div
                    class="badge bg-dark text-white position-absolute"
                    style="top: 0.5rem; right: 0.5rem">
                    View specs
                  </div>
                  <br>
                  <!-- Product name-->
                  <h5 class="fw-bolder">{{ room.hostel.hostel_name }}</h5>
                  <!-- <h5 class="fw-bolder">{{ room.rating }}</h5> -->
                  {% comment %} <div
                    class="d-flex justify-content-center small text-warning mb-2"
                  >
                    <div class="bi-star-fill"></div>
                    <div class="bi-star-fill"></div>
                    <div class="bi-star-fill"></div>
                    <div class="bi-star-fill"></div>
                    <div class="bi-star-fill"></div>
                  </div> {% endcomment %}
                  <h5 class="fw-bolder">{{ room.room_capacity }} in a Roomüè†</h5>
                  <!-- Product price-->
                  {{ room.room_price }}üíµ
                </div>
              </div>

              <!-- Booking form-->
              <form
                data-action="Booking..."
                id="booking-form"
                action="{% url 'core:booking'  %}"
                method="POST"
              >
                {% csrf_token %}
                <input type="hidden", name="room_id" value="{{ room.room_id }}">
                <div class="card-footer p-4 pt-0 border-top-0 bg-transparent">
                  <div class="text-center">
                    <button type="submit" class="btn btn-outline-dark mt-auto">
                      Booküè∑Ô∏è
                    </button>
                  </div>
                </div>
              </form>
            </div>
          </div>
        </a>
          {% endfor %}
          
      </div>
    </section>
    <!-- Footer-->
    <footer class="py-5 bg-dark footer">
      <div class="custom-shape-divider-top-1695573055">
        <svg data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 120" preserveAspectRatio="none">
            <path d="M0,0V46.29c47.79,22.2,103.59,32.17,158,28,70.36-5.37,136.33-33.31,206.8-37.5C438.64,32.43,512.34,53.67,583,72.05c69.27,18,138.3,24.88,209.4,13.08,36.15-6,69.85-17.84,104.45-29.34C989.49,25,1113-14.29,1200,52.47V0Z" opacity=".25" class="shape-fill"></path>
            <path d="M0,0V15.81C13,36.92,27.64,56.86,47.69,72.05,99.41,111.27,165,111,224.58,91.58c31.15-10.15,60.09-26.07,89.67-39.8,40.92-19,84.73-46,130.83-49.67,36.26-2.85,70.9,9.42,98.6,31.56,31.77,25.39,62.32,62,103.63,73,40.44,10.79,81.35-6.69,119.13-24.28s75.16-39,116.92-43.05c59.73-5.85,113.28,22.88,168.9,38.84,30.2,8.66,59,6.17,87.09-7.5,22.43-10.89,48-26.93,60.65-49.24V0Z" opacity=".5" class="shape-fill"></path>
            <path d="M0,0V5.63C149.93,59,314.09,71.32,475.83,42.57c43-7.64,84.23-20.12,127.61-26.46,59-8.63,112.48,12.24,165.56,35.4C827.93,77.22,886,95.24,951.2,90c86.53-7,172.46-45.71,248.8-84.81V0Z" class="shape-fill"></path>
        </svg>
    </div>

      <div class="container">
        <p class="m-0 text-center text-white filter">Copyright &copy; Rebook 2023</p>
      </div>
    </footer>
    <!-- Bootstrap core JS-->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Core theme JS-->
    <script src="{% static 'list_staticfiles/js/scripts.js' %}"></script>
  </body>
</html>
